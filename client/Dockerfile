FROM node:18.16
WORKDIR /usr/src/react-client
COPY package.json yarn.lock ./
RUN yarn install
COPY . .
ARG REACT_APP_ORDER_HOST
ARG REACT_APP_ORDER_PORT
ARG REACT_APP_USER_HOST
ARG REACT_APP_USER_PORT
ENV REACT_APP_ORDER_HOST=$REACT_APP_ORDER_HOST
ENV REACT_APP_ORDER_PORT=$REACT_APP_ORDER_PORT
ENV REACT_APP_USER_HOST=$REACT_APP_USER_HOST
ENV REACT_APP_USER_PORT=$REACT_APP_USER_PORT
EXPOSE 3000
CMD ["yarn", "start"]